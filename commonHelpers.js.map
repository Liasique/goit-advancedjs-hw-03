{"version":3,"file":"commonHelpers.js","sources":["../src/index.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\naxios.defaults.headers.common['x-api-key'] = 'live_Px7dvVo2xBtlGgvAfuYlwNWpTa0l5UHIWvbfgFeFbc9DLduE10gl8sCkxxlY3C0l';\n\nconst fetchBreeds = () => axios.get('https://api.thecatapi.com/v1/breeds').then(response => response.data);\nconst fetchCatByBreed = (breedId) => axios.get(`https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`).then(response => response.data[0]);\n\nconst breedSelect = document.querySelector('.breed-select');\nconst loader = document.querySelector('.loader');\nconst catInfoDiv = document.querySelector('.cat-info');\n\nconst showLoader = () => {\n    loader.style.display = 'block';\n    breedSelect.style.display = 'none';\n    catInfoDiv.style.display = 'none';\n};\n\nlet hasCatData = false;\n\nconst hideLoader = () => {\n    loader.style.display = 'none';\n    breedSelect.style.display = 'block';\n    catInfoDiv.style.display = hasCatData ? 'block' : 'none';\n};\n\nconst showError = (message) => {\n    iziToast.error({\n        title: 'Error',\n        message: message,\n        position: 'topRight',\n    });\n};\n\nconst createOptionElement = (breed) => {\n    const option = document.createElement('option');\n    option.value = breed.id;\n    option.textContent = breed.name;\n    return option;\n};\n\nconst addBreedsToSelect = (breeds) => {\n    breeds.forEach(breed => breedSelect.appendChild(createOptionElement(breed)));\n};\n\nconst handleFetchError = (error) => {\n    console.error('Error fetching data:', error);\n    showError('Unable to fetch data. Please try again later.');\n    loader.style.display = 'none';\n    catInfoDiv.style.display = 'none';\n    breedSelect.style.display = 'block';\n    hasCatData = false;\n};\n\nconst populateBreedSelect = () => {\n    showLoader();\n    fetchBreeds()\n        .then(addBreedsToSelect)\n        .catch(handleFetchError)\n        .finally(hideLoader);\n};\n\nconst displayCatInfo = (breedId) => {\n    showLoader();\n    fetchCatByBreed(breedId)\n        .then(catData => {\n            if (catData && catData.breeds && catData.breeds.length > 0) {\n                catInfoDiv.innerHTML = `\n                <div>\n                    <img src=\"${catData.url}\" alt=\"${catData.breeds[0].name}\">\n                    <h1><strong>${catData.breeds[0].name}</strong></h1>\n                    <p>${catData.breeds[0].description}</p>\n                    <p><strong>Temperament:</strong> ${catData.breeds[0].temperament}</p>\n                </div>\n                `;\n                hasCatData = true;\n            } else {\n                throw new Error('No breed data available');\n            }\n        })\n        .catch(handleFetchError)\n        .finally(hideLoader);\n};\n\nbreedSelect.addEventListener('change', (e) => displayCatInfo(e.target.value));\n\npopulateBreedSelect();\n"],"names":["axios","fetchBreeds","response","fetchCatByBreed","breedId","breedSelect","loader","catInfoDiv","showLoader","hasCatData","hideLoader","showError","message","iziToast","createOptionElement","breed","option","addBreedsToSelect","breeds","handleFetchError","error","populateBreedSelect","displayCatInfo","catData","e"],"mappings":"6vBAIAA,EAAM,SAAS,QAAQ,OAAO,aAAe,wEAE7C,MAAMC,EAAc,IAAMD,EAAM,IAAI,qCAAqC,EAAE,KAAKE,GAAYA,EAAS,IAAI,EACnGC,EAAmBC,GAAYJ,EAAM,IAAI,wDAAwDI,GAAS,EAAE,KAAKF,GAAYA,EAAS,KAAK,EAAE,EAE7IG,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAa,SAAS,cAAc,WAAW,EAE/CC,EAAa,IAAM,CACrBF,EAAO,MAAM,QAAU,QACvBD,EAAY,MAAM,QAAU,OAC5BE,EAAW,MAAM,QAAU,MAC/B,EAEA,IAAIE,EAAa,GAEjB,MAAMC,EAAa,IAAM,CACrBJ,EAAO,MAAM,QAAU,OACvBD,EAAY,MAAM,QAAU,QAC5BE,EAAW,MAAM,QAAUE,EAAa,QAAU,MACtD,EAEME,EAAaC,GAAY,CAC3BC,EAAS,MAAM,CACX,MAAO,QACP,QAASD,EACT,SAAU,UAClB,CAAK,CACL,EAEME,EAAuBC,GAAU,CACnC,MAAMC,EAAS,SAAS,cAAc,QAAQ,EAC9C,OAAAA,EAAO,MAAQD,EAAM,GACrBC,EAAO,YAAcD,EAAM,KACpBC,CACX,EAEMC,EAAqBC,GAAW,CAClCA,EAAO,QAAQH,GAASV,EAAY,YAAYS,EAAoBC,CAAK,CAAC,CAAC,CAC/E,EAEMI,EAAoBC,GAAU,CAChC,QAAQ,MAAM,uBAAwBA,CAAK,EAC3CT,EAAU,+CAA+C,EACzDL,EAAO,MAAM,QAAU,OACvBC,EAAW,MAAM,QAAU,OAC3BF,EAAY,MAAM,QAAU,QAC5BI,EAAa,EACjB,EAEMY,EAAsB,IAAM,CAC9Bb,IACAP,EAAa,EACR,KAAKgB,CAAiB,EACtB,MAAME,CAAgB,EACtB,QAAQT,CAAU,CAC3B,EAEMY,EAAkBlB,GAAY,CAChCI,IACAL,EAAgBC,CAAO,EAClB,KAAKmB,GAAW,CACb,GAAIA,GAAWA,EAAQ,QAAUA,EAAQ,OAAO,OAAS,EACrDhB,EAAW,UAAY;AAAA;AAAA,gCAEPgB,EAAQ,aAAaA,EAAQ,OAAO,GAAG;AAAA,kCACrCA,EAAQ,OAAO,GAAG;AAAA,yBAC3BA,EAAQ,OAAO,GAAG;AAAA,uDACYA,EAAQ,OAAO,GAAG;AAAA;AAAA,kBAGzDd,EAAa,OAEb,OAAM,IAAI,MAAM,yBAAyB,CAEzD,CAAS,EACA,MAAMU,CAAgB,EACtB,QAAQT,CAAU,CAC3B,EAEAL,EAAY,iBAAiB,SAAWmB,GAAMF,EAAeE,EAAE,OAAO,KAAK,CAAC,EAE5EH,EAAqB"}